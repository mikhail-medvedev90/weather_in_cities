{% extends 'base.html' %}

{% block content %}

<h2>Enter City</h2>
<form id="weatherForm" onsubmit="handleSubmit(event)">
    <label for="city">City:</label>
    <input type="text" id="city" name="city" placeholder="Enter your city" required>
    <br><br>
    <input type="submit" value="Submit">
</form>

<script>
    function handleSubmit(event) {
        event.preventDefault(); // Prevent the default form submission

        // Get the value entered by the user in the city input field
        const city = document.getElementById('city').value.trim();

        // Construct the new action URL using the entered city
        const actionURL = `/weather/${encodeURIComponent(city)}`;

        // Set the form's action attribute to the constructed URL
        document.getElementById('weatherForm').action = actionURL;

        // Submit the form with the updated action URL
        document.getElementById('weatherForm').submit();
    }
</script>

{% endblock %}
